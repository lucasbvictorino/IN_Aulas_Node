{
  "info": {
    "name": "Sistema de Cinema - Aulas Node",
    "description": "Coleção completa de requisições para o sistema de cinema",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Users",
      "item": [
        {
          "name": "Registrar Novo Usuário",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João Silva\",\n  \"username\": \"joao_silva\",\n  \"email\": \"joao@example.com\",\n  \"password\": \"senha123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Cria um novo usuário. O campo password deve ter no mínimo 8 caracteres."
          },
          "response": []
        },
        {
          "name": "Autenticar Usuário",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "  const responseData = pm.response.json();",
                  "  if (responseData.token) {",
                  "    pm.environment.set('token', responseData.token);",
                  "    console.log('Token saved:', responseData.token);",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"12345678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/authenticate",
              "host": ["{{baseUrl}}"],
              "path": ["users", "authenticate"]
            },
            "description": "Autentica um usuário com username ou email e senha. Use username: admin / password: 12345678 para testar com o usuário padrão do seeder."
          },
          "response": []
        },
        {
          "name": "Listar Todos os Usuários",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "description": "Token JWT obtido na autenticação"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Retorna a lista de todos os usuários cadastrados. Requer autenticação com credenciais de ADMIN."
          },
          "response": []
        },
        {
          "name": "Obter Usuário por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Obtém os dados de um usuário específico pelo seu ID (publicID). Substitua {{userId}} pelo ID do usuário."
          },
          "response": []
        },
        {
          "name": "Atualizar Usuário",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João Silva Atualizado\",\n  \"username\": \"joao_silva_novo\",\n  \"email\": \"joao_novo@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Atualiza os dados de um usuário. Todos os campos são opcionais. Substitua {{userId}} pelo ID do usuário."
          },
          "response": []
        },
        {
          "name": "Deletar Usuário",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Deleta um usuário específico. Substitua {{userId}} pelo ID do usuário."
          },
          "response": []
        },
        {
          "name": "Obter Perfil do Usuário",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "description": "Token JWT obtido na autenticação"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Retorna os dados do perfil do usuário autenticado. Requer autenticação com JWT."
          },
          "response": []
        },
        {
          "name": "Atualizar Perfil do Usuário",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "description": "Token JWT obtido na autenticação"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João Silva Atualizado\",\n  \"username\": \"joao_silva_novo\",\n  \"email\": \"joao_novo@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Atualiza os dados do perfil do usuário autenticado. Todos os campos são opcionais. Requer autenticação com JWT."
          },
          "response": []
        },
        {
          "name": "Deletar Perfil do Usuário",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "description": "Token JWT obtido na autenticação"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Deleta o perfil do usuário autenticado. Requer autenticação com JWT."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Movies",
      "item": [
        {
          "name": "Criar Novo Filme",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Homem-Aranha: Sem Volta para Casa\",\n  \"genre\": \"Ação/Aventura\",\n  \"ageRating\": 12\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/movies",
              "host": ["{{baseUrl}}"],
              "path": ["movies"]
            },
            "description": "Cria um novo filme. ageRating deve ser entre 0 e 18."
          },
          "response": []
        },
        {
          "name": "Listar Todos os Filmes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/movies",
              "host": ["{{baseUrl}}"],
              "path": ["movies"]
            },
            "description": "Retorna a lista de todos os filmes cadastrados."
          },
          "response": []
        },
        {
          "name": "Listar Filmes com Paginação",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/movies?title=&page=1&limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["movies"],
              "query": [
                {
                  "key": "title",
                  "value": "",
                  "description": "Título do filme (opcional)"
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Número da página (opcional, padrão: 1)"
                },
                {
                  "key": "limit",
                  "value": "5",
                  "description": "Quantidade de filmes por página (opcional, padrão: 5)"
                }
              ]
            },
            "description": "Retorna lista paginada de filmes com filtro opcional por título."
          },
          "response": []
        },
        {
          "name": "Obter Filme por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/movies/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["movies", "{{movieId}}"]
            },
            "description": "Obtém os dados de um filme específico pelo seu ID (publicID). Substitua {{movieId}} pelo ID do filme."
          },
          "response": []
        },
        {
          "name": "Atualizar Filme",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Homem-Aranha: Através do Universo\",\n  \"genre\": \"Ação/Aventura/Animação\",\n  \"ageRating\": 13\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/movies/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["movies", "{{movieId}}"]
            },
            "description": "Atualiza os dados de um filme. Todos os campos são opcionais. Substitua {{movieId}} pelo ID do filme."
          },
          "response": []
        },
        {
          "name": "Deletar Filme",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/movies/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["movies", "{{movieId}}"]
            },
            "description": "Deleta um filme específico. Substitua {{movieId}} pelo ID do filme."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Sessions",
      "item": [
        {
          "name": "Criar Sessão de Filme",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"2026-02-25T19:30:00\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/sessions/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["sessions", "{{movieId}}"]
            },
            "description": "Cria uma nova sessão de exibição para um filme. Substitua {{movieId}} pelo ID do filme."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Seats",
      "item": [
        {
          "name": "Obter Assento por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/seats/{{seatId}}",
              "host": ["{{baseUrl}}"],
              "path": ["seats", "{{seatId}}"]
            },
            "description": "Obtém os dados de um assento específico pelo seu ID (publicID). Substitua {{seatId}} pelo ID do assento."
          },
          "response": []
        },
        {
          "name": "Atualizar Assento",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"number\": 5,\n  \"row\": \"A\",\n  \"price\": 45.50,\n  \"isOccupied\": true,\n  \"userId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/seats/{{seatId}}",
              "host": ["{{baseUrl}}"],
              "path": ["seats", "{{seatId}}"]
            },
            "description": "Atualiza os dados de um assento. Todos os campos são opcionais. Substitua {{seatId}} pelo ID do assento."
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3333",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string",
      "description": "JWT token obtido ao autenticar um usuário"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "movieId",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "seatId",
      "value": "",
      "type": "string"
    }
  ]
}
